class EconomySystem {
  constructor() {
    this.users = new Map(); // Stores user balances and cooldowns
  }

  createUser(username) {
    if (this.users.has(username)) {
      return `User '${username}' already exists.`;
    }
    this.users.set(username, {
      balance: 1000,
      lastWork: 0,
      lastDaily: 0,
    });
    return `User '${username}' created with ‚Çπ1000 starting balance.`;
  }

  getBalance(username) {
    const user = this.users.get(username);
    return user ? `‚Çπ${user.balance}` : `User '${username}' not found.`;
  }

  work(username) {
    const user = this.users.get(username);
    if (!user) return `User '${username}' not found.`;

    const now = Date.now();
    if (now - user.lastWork < 10000) {
      return `Please wait before working again.`;
    }

    const earned = Math.floor(Math.random() * 300) + 100;
    user.balance += earned;
    user.lastWork = now;

    return `You worked hard and earned ‚Çπ${earned}.`;
  }

  daily(username) {
    const user = this.users.get(username);
    if (!user) return `User '${username}' not found.`;

    const now = Date.now();
    if (now - user.lastDaily < 86400000) {
      return `Daily already claimed. Try again later.`;
    }

    const reward = 500;
    user.balance += reward;
    user.lastDaily = now;

    return `Daily reward of ‚Çπ${reward} claimed!`;
  }

  transfer(from, to, amount) {
    const sender = this.users.get(from);
    const receiver = this.users.get(to);

    if (!sender || !receiver) return `One or both users not found.`;
    if (sender.balance < amount) return `Insufficient funds.`;

    sender.balance -= amount;
    receiver.balance += amount;

    return `Transferred ‚Çπ${amount} from ${from} to ${to}.`;
  }

  leaderboard() {
    const sorted = [...this.users.entries()]
      .sort((a, b) => b[1].balance - a[1].balance)
      .map(([name, data], index) => `${index + 1}. ${name}: ‚Çπ${data.balance}`);
    return `üèÜ Leaderboard üèÜ\n` + sorted.join('\n');
  }
}

// Example usage
const econ = new EconomySystem();
console.log(econ.createUser("Preetham"));
console.log(econ.createUser("Alex"));
console.log(econ.work("Preetham"));
console.log(econ.daily("Preetham"));
console.log(econ.transfer("Preetham", "Alex", 200));
console.log(econ.getBalance("Alex"));
console.log(econ.leaderboard());
